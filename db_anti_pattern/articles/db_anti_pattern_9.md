## 課題1-1
アンチパターン「強すぎる制約」にあたる。制約が事実に基づいた範囲に収まっているかどうかが大切。
自分がつけている制約のバランスを必ず意識すること。

- 制約をアプリケーション側で課すアプローチ

ルールが変わる可能性があるものや、ロジックが複雑な場合はアプリケーション側で制約をつけておいた方が変更に柔軟に対応できる。

- メールアドレスが特定のドメイン（例: `example.com`）に制限

→ 複数のドメインに対応することになった

- 制約をデータベース側で制約を課すアプローチ
    - 主キー、外部キー、NOT NULL制約などRDSで基本的なルールはDB側で実装

    旧システムから新システムへデータを移行する際に不正な値が含まれている場合、エラーで気づくことができる。

    - ロジックが簡単であれば、履歴テーブルにTriggerを使い同じデータを挿入することも選択肢として考える。
    - 値が変化する可能性がなければ、「Check」「Enum」「Domain」も選択肢として考える。

## 課題2-1

フォームにメールアドレスを登録して応募するサービス

- 登録できる形式を指定して制限していたが、メールアドレスとして成立する形を網羅できておらず、本来登録できなくてはならないメールアドレスも制限してしまっていた。
ユーザーから登録できないというクレームが大量に来てしまった。

## 参考文献
失敗から学ぶ RDBの正しい歩き方
https://gihyo.jp/book/2019/978-4-297-10408-5

『達人に学ぶDB設計』を自分なりにまとめてみた
https://qiita.com/MAKOTO1995/items/411c9fe25e80d2a0c371
